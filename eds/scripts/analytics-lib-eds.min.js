function isProduction(){return window.location.hostname.endsWith(".live")||window.location.hostname.includes("sling.com")}function analyticsLog(...e){isProduction()||console.log(...e)}function analyticsWarn(e){isProduction()||console.warn(`[Analytics Warning] ${e}`)}function analyticsError(e){isProduction()||console.error(`[Analytics Error] ${e}`)}function addTargetHider(){const e="sling-target-hider";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerHTML="body { opacity: 0 !important; }",document.head.appendChild(t)}}function removeTargetHider(){const e=document.getElementById("sling-target-hider");e&&e.remove()}function insertContent(e,t){const a=document.querySelector(e);a&&a.insertAdjacentHTML("beforeend",t)}function replaceContent(e,t){const a=document.querySelector(e);a&&(a.innerHTML=t)}function deleteContent(e){const t=document.querySelector(e);t&&t.remove()}function executeTargetTest(e){if(e&&e.selector)try{switch(e.action){case"insert":insertContent(e.selector,e.content);break;case"replace":replaceContent(e.selector,e.content);break;case"delete":deleteContent(e.selector);break;default:analyticsWarn(`Unknown target action: ${e.action}`)}}catch(e){analyticsError(`Target test execution failed: ${e.message}`)}}const classifications={arabic:"arabic",bangla:"bangla",bengali:"bengali",brazilian:"brazilian",cantonese:"cantonese",caribe:"caribe",centroamerica:"centroamerica",espana:"espana",french:"french",german:"german",greek:"greek",hindi:"hindi",internationalSports:"international-sports",italian:"italian",kannada:"kannada",latino:"latino",malayalam:"malayalam",mandarin:"mandarin",mexico:"mexico",marathi:"marathi",polish:"polish",punjabi:"punjabi",sudamerica:"sudamerica",taiwanese:"taiwanese",tamil:"tamil",telugu:"telugu",urdu:"urdu",us:"us",vietnamese:"vietnamese",worldCricket:"world-cricket"};function getPageData(){const{pathname:e}=window.location,t="/"===e,a={name:t?"home":e};if(t)a.type="home",a.lineOfBusiness="domestic",a.classification="us";else{const t=e.split("/")[1];t.includes("account")?a.type="account":t.includes("latino")?a.lineOfBusiness="latino":t.includes("whatson")?a.type="blog":t.includes("help")?a.type="help":t.includes("international")?a.lineOfBusiness="international":a.lineOfBusiness="domestic",a.classification=Object.values(classifications).find((t=>e.includes(t))),e.includes("cricket")&&!e.includes("world-cricket")&&(a.classification=classifications.worldCricket)}return a}class AnalyticsADL{constructor(e,t){this.appName=e,this.dataLayer=t,this.screenLoadCalled=!1}updateDebugData(){this.dataLayer.push({web:{webPageDetails:{platform:"web",_sling:{appName:this.appName,analyticsVersion:"7.0.39"}}}})}updatePageData(e){const t=document.documentElement?.lang?.substr(0,2)||"en",a=window.location.search.slice(1),n=document.title,i="404"===n?n:void 0,o=e.lineOfBusiness||"unknown",s=e.classification||"us";this.dataLayer.push({web:{webPageDetails:{name:e.name||"unknown",type:e.type||"generic",qsp:a,language:t,siteSection:o,siteSubSection:s,siteSubSubSection:void 0,domain:e.domain||window.location.hostname,pageErrorName:i}}});const r=(new Date).toLocaleDateString("en-US",{weekday:"short"}).toLowerCase();this.dataLayer.push({web:{webPageDetails:{_sling:{pageViewDayOfWeek:r}}}})}updatePageAccessInfo(){analyticsLog(`[Analytics] updatePageAccessInfo called for ${this.appName}`)}updateUrlParamsData(e){const t={},a=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","fbclid"];e.forEach(((e,n)=>{a.includes(n)&&(t[n]=e)})),this.dataLayer.push({web:{webPageDetails:{_sling:{urlParams:Object.keys(t).length>0?t:{}}}}})}updateUserData(e){e&&this.dataLayer.push({web:{user:e}})}updatePerformanceData(){if(window.performance&&window.performance.timing){const{timing:e}=window.performance;if(0===e.loadEventEnd||0===e.navigationStart)return void window.addEventListener("load",(()=>{this.updatePerformanceData()}),{once:!0});const t=e.loadEventEnd-e.navigationStart;let a="unknown";a=t<1e3?"<1sec":t<2e3?"1-2sec":t<3e3?"2-3sec":t<4e3?"3-4sec":t<5e3?"4-5sec":t<6e3?"5-6sec":t<7e3?"6-7sec":t<8e3?"7-8sec":t<9e3?"8-9sec":t<1e4?"9-10sec":">10sec",this.dataLayer.push({web:{webPageDetails:{loadTime:t,_sling:{loadTimeBucket:a}}}})}}screenLoad(e={}){if(!window.slingScreenLoadCalled&&!this.screenLoadCalled){if(this.screenLoadCalled=!0,window.slingScreenLoadCalled=!0,this.dataLayer.push({event:"screen_load",screenLoadFired:!0,web:{currentEvent:"screen_load"}}),e.name){const t=getPageData(),a=document.documentElement?.lang?.substr(0,2)||"en",n=window.location.search.slice(1);this.dataLayer.push({web:{webPageDetails:{name:e.name,type:e.type||t.type||"generic",qsp:n,language:a,siteSection:t.lineOfBusiness||"domestic",siteSubSection:t.classification||"us",domain:window.location.hostname,isErrorPage:!1}}})}this.dataLayer.push({useridentity:{authState:"logged_out",accountStatus:""}}),this.updatePerformanceData()}}updateCartData(e){this.dataLayer.push({commerce:{cart:e}})}uiInteraction(e){this.dataLayer.push({event:"uiInteraction",eventInfo:e})}modalOpen(e){this.dataLayer.push({event:"modalOpen",eventInfo:e})}modalClose(){this.dataLayer.push({event:"modalClose"})}formStart(e){this.dataLayer.push({event:"formStart",eventInfo:e})}formComplete(e){this.dataLayer.push({event:"formComplete",eventInfo:e})}formError(e){this.dataLayer.push({event:"formError",eventInfo:e})}userLogin(e){this.dataLayer.push({event:"userLogin",user:e})}userLogout(){this.dataLayer.push({event:"userLogout"})}userRegister(e){this.dataLayer.push({event:"userRegister",user:e})}}let instance;function getInstance(e){if(!instance){window.adobeDataLayer=window.adobeDataLayer||[];const t={get:(e,t)=>e[t]?function(...a){try{return e[t](...a)}catch(e){analyticsError(e)}}:(analyticsError(`Property ${t} accessed, but does not exist. If this is a function call, it will silently fail as a no-op. This needs to be fixed in the calling code.`),function(){})};instance=new Proxy(new AnalyticsADL(e,window.adobeDataLayer),t),instance.updateDebugData();const a=getPageData();instance.updatePageData({name:"unknown",lineOfBusiness:a.lineOfBusiness||"unknown",classification:a.classification||"us",type:a.type||"generic",domain:window.location.hostname});const n=new URLSearchParams(window.location.search);if(instance.updateUrlParamsData(n),localStorage.getItem("adobeDataLayer.web.user"))try{instance.updateUserData(JSON.parse(localStorage.getItem("adobeDataLayer.web.user")))}catch(e){analyticsError(e)}const i={},o=localStorage.getItem("user_zip");o&&(i.zip=o,i.zipCode=o),i.authState="logged_out",i.accountStatus="";const s={},r=localStorage.getItem("fabrickID");r&&(s.fabrickID=r);const c=localStorage.getItem("segmentCode");c&&(s.segmentCode=c);const l=localStorage.getItem("neustarL0"),d=localStorage.getItem("neustarL1"),u=localStorage.getItem("neustarL2"),m=localStorage.getItem("neustarL3");l&&(s.level0=l),d&&(s.level1=d),u&&(s.level2=u),m&&(s.level3=m);const g=localStorage.getItem("neustarAud");if(g)try{const e=JSON.parse(g);Array.isArray(e)&&(s.audience=e)}catch(e){s.audience=[g]}s.audienceLists={dishActive:!1,dishFormer2022:!1,dishFormer2023:!1,dishFormer6mo:!1,slingActive:!1,slingFormer2023:!1,slingFormer6mo:!1}}return instance}window.slingUtils=window.slingUtils||{},window.slingUtils.lazy=window.slingUtils.lazy||{},window.slingUtils.lazy.registerComponent=window.slingUtils.lazy.registerComponent||function(){},window.adobeDataLayer&&!window.adobeDataLayer.getState&&(window.adobeDataLayer.getState=function(e){return e?void 0:{}},window.adobeDataLayer.addEventListener=function(e){analyticsLog("addEventListener called:",e)},window.adobeDataLayer.removeEventListener=function(e){analyticsLog("removeEventListener called:",e)}),window.addTargetHider=addTargetHider,window.removeTargetHider=removeTargetHider,window.executeTargetTest=executeTargetTest;const analytics={getInstance:getInstance,addTargetHider:addTargetHider,removeTargetHider:removeTargetHider,executeTargetTest:executeTargetTest,insertContent:insertContent,replaceContent:replaceContent,deleteContent:deleteContent};"undefined"!=typeof module&&module.exports&&(module.exports=analytics),window.analytics=analytics;